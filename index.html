
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Gomoku</title>
	<style type="text/css">
		canvas{
		    display: block;
		    margin: 50px auto;
		    box-shadow: -2px -2px 2px #efefef, 5px 5px 5px #b9b9b9;
		}
 
		.restart{
		    text-align: center;
		    cursor: pointer;
		}
 
		.restart>span{
		    display: inline-block;
		    padding: 10px 20px;
		    color: #fff;
		    background-color: #45c01a;
		    border-radius: 5px;
		}
	</style>
</head>
<body onload="drawChessBoard()">
    <canvas id="chess" width="450px" height="450px"></canvas>
    <div id='restart' class="restart">
        <span>Restart</span>
    </div>
    <script>
		var chessBoard = [];//chess board
		var me = true; //user
		var over = false; // game over or not
        
        // Initialize chessBoard
		for(var i=0 ; i<15 ; i++){
			chessBoard[i] = [];
			for(var j=0 ; j<15 ; j++){
				chessBoard[i][j] = 0;
			}
		}
 
		var chess = document.getElementById('chess');
		var context = chess.getContext('2d');
 
		context.strokeStyle = "#BFBFBF";
 
		document.getElementById("restart").onclick = function(){
		    window.location.reload();
		}
 
        //draw the board
		var drawChessBoard = function(){
			for(var i=0 ; i<15 ; i++){
				context.moveTo(15 + i*30 , 15);
				context.lineTo(15 + i*30 , 435);
				context.stroke();
				context.moveTo(15 , 15 + i*30);
				context.lineTo(435 , 15 + i*30);
				context.stroke();
			}
		}
 
		var oneStep = function(i , j , me){
			context.beginPath();
			context.arc(15 + i*30 , 15 + j*30 , 13 , 0 , 2 * Math.PI);
			context.closePath();
			var gradient = context.createRadialGradient(15 + i*30 + 2 , 15 + j*30 - 2 , 13 , 15 + i*30 + 2 , 15 + j*30 - 2 , 0);
			if(me){
				gradient.addColorStop(0,"#0A0A0A");
				gradient.addColorStop(1,"#636766");
			}else{
				gradient.addColorStop(0,"#D1D1D1");
				gradient.addColorStop(1,"#F9F9F9");
			}
			context.fillStyle = gradient;
			context.fill();
		}
 
		chess.onclick = function(e){
			if(over){
				return;
			}
			var x = e.offsetX;
			var y = e.offsetY;
			var i = Math.floor(x / 30);
			var j = Math.floor(y / 30);
			if(chessBoard[i][j] == 0){
				oneStep(i , j , me);
				chessBoard[i][j] = 1;//me
				if(!over){
					me = !me;
				}
			}
		}
 		
    </script>
</body>
</html>